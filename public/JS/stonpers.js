(()=>{"use strict";const t=function(){function t(){}return t.rectangleCollision=function(t,i){return t.x<i.x+i.width&&t.x+t.width>i.x&&t.y<i.y+i.height&&t.y+t.height>i.y},t.circleCollision=function(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))<t.radius+i.radius},t}(),i=function(){function t(){}return t.clicou=!1,t}(),n=function(){function n(t,i,n,e,o,r,a){this.virada=!1,this.width=n,this.height=e,this.x=t,this.y=i,this.valor=o,this.naipe=r,this.imagem=a}return n.prototype.desenhar=function(){this.imagem.desenhar(this.x,this.y,this.width,this.height)},n.prototype.colidir=function(){t.rectangleCollision(this,{x:i.x,y:i.y,width:1,height:1})&&i.clicou&&(console.log(this.valor+this.naipe),console.log(n.cardsCut.get(this.valor.toString()+this.naipe)),this.virar())},n.prototype.virar=function(){if(this.virada=!this.virada,this.virada)this.imagem.x=141,this.imagem.y=410;else{var t=n.cardsCut.get(this.valor.toString()+this.naipe);this.imagem.x=t.x,this.imagem.y=t.y}},n.naipes=["PAUS","OUROS","COPAS","ESPADAS"],n.cardsCut=new Map,n}(),e=function(){function t(t,i){this.width=t.width,this.height=t.height,this.x=t.x,this.y=t.y,this.image=new Image,this.image.src=i}return t.prototype.desenhar=function(t,i,n,e){r.ctx.drawImage(this.image,this.x,this.y,this.width,this.height,t,i,n,e)},t}(),o=function(){function t(){this.cartas=[],this.create()}return t.prototype.create=function(){for(var t=0;t<4;t++)for(var i=0;i<13;i++){var o=i+1;13!=o||"OUROS"!=n.naipes[t]&&"COPAS"!=n.naipes[t]||(o=0);var r=n.cardsCut.get(o.toString()+n.naipes[t]),a=new e(r,"./public/image/do_meu_avo.png"),s=new n(70*i,100*t,70,100,o,n.naipes[t],a);this.cartas.push(s)}},t.prototype.desenhar=function(){this.cartas.forEach((function(t){t.desenhar()}))},t.prototype.colidir=function(){this.cartas.forEach((function(t){t.colidir()}))},t}(),r=function(){function t(){}return t.prototype.update=function(){var n=this;t.gameObjects.forEach((function(t){t.colidir()})),i.clicou&&(i.clicou=!i.clicou),window.requestAnimationFrame((function(){return n.update()}))},t.prototype.render=function(){var i=this;t.ctx.clearRect(0,0,t.WIDTH,t.HEIGHT),t.ctx.fillStyle="#0FF0CB",t.ctx.fillRect(0,0,t.WIDTH,t.HEIGHT),t.gameObjects.forEach((function(t){t.desenhar()})),window.requestAnimationFrame((function(){return i.render()}))},t.prototype.start=function(){for(var i=0;i<4;i++)for(var e=0;e<13;e++){var r=e+1;13!=r||"OUROS"!=n.naipes[i]&&"COPAS"!=n.naipes[i]||(r=0);var a=r.toString()+n.naipes[i];n.cardsCut.set(a,{x:71*e,y:103*i,width:71,height:103})}var s=new o;t.gameObjects.push(s),this.render(),this.update()},t.gameObjects=[],t.WIDTH=.99*window.innerWidth,t.HEIGHT=.99*window.innerHeight,t}();var a=document.getElementById("canvas1");r.ctx=a.getContext("2d"),a.width=.99*window.innerWidth,a.height=.99*window.innerHeight,a.getBoundingClientRect().x,a.getBoundingClientRect().y,window.addEventListener("click",(function(t){console.log(i.clicou=0==t.button),i.clicou=0==t.button})),window.addEventListener("mousemove",(function(t){i.x=t.clientX,i.y=t.clientY})),(new r).start()})();